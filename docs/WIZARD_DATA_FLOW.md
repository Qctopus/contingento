# Wizard Data Flow & Sample Data

## Understanding the Data Flow

The wizard has a clear separation between **user-entered data** and **system-generated data**:

### üë§ User Fills (Manual Entry)
These fields are filled by the business owner/user:

1. **Plan Information**
   - Company name, address, plan version
   - Plan managers and their contact details
   - Plan storage locations

2. **Business Overview**
   - Business purpose and mission
   - Products and services offered
   - Target markets
   - Competitive advantages

3. **Essential Functions**
   - Selection of relevant business functions by category
   - (Checkboxes from predefined categories)

4. **Function Priorities**
   - Priority assessment table
   - Maximum acceptable downtime for each function
   - Impact notes

5. **Contacts & Information**
   - Staff contact lists
   - Supplier information
   - Key customer contacts
   - Emergency services contacts

6. **Vital Records**
   - Records inventory table
   - Storage locations and backup procedures

7. **Testing & Maintenance**
   - Testing schedules
   - Training programs
   - Performance metrics
   - Improvement tracking
   - Review processes

### ü§ñ System Generates (Based on Industry + Location)
These are automatically generated by the system:

1. **Risk Assessment Matrix**
   - Generated based on:
     - Selected industry (e.g., "Hospitality & Tourism")
     - Location and parish (e.g., "Christ Church, Barbados")
     - Geographic factors (nearCoast, urbanArea)
   - Includes: likelihood, severity, risk scores, pre-selection
   - User can review and adjust, but initial data comes from admin system

2. **Strategies**
   - Recommended based on:
     - Industry best practices
     - Selected risks
     - Business type requirements
   - Categories: Prevention, Response, Recovery
   - User selects from recommendations

3. **Action Plans**
   - Generated from selected strategies
   - Customized based on industry and risk profile
   - Includes specific action steps, timelines, responsibilities

## Sample Data Implementation

### What the Sample Data Fills

The `DevDataFiller` component and console script **ONLY** fill user-entered data:

```javascript
{
  PLAN_INFORMATION: { /* user data */ },
  BUSINESS_OVERVIEW: { /* user data */ },
  ESSENTIAL_FUNCTIONS: { /* user selections */ },
  FUNCTION_PRIORITIES: { /* user assessments */ },
  CONTACTS_AND_INFORMATION: { /* user contacts */ },
  VITAL_RECORDS: { /* user records */ },
  TESTING_AND_MAINTENANCE: { /* user schedules */ }
  
  // NO PRE-FILLED RISKS OR STRATEGIES!
  // Those are generated by the system
}
```

### Industry & Location Settings

The sample data sets:
- **Industry**: `hospitality_tourism` (Hospitality & Tourism)
- **Location**: `Christ Church, Barbados`
- **Geographic factors**: `nearCoast: true`, `urbanArea: true`

Based on these settings, the system will:
1. Query the admin database for risks applicable to coastal tourism businesses in Christ Church
2. Calculate risk scores using multipliers
3. Pre-select high-priority risks
4. Recommend relevant strategies
5. Generate action plans

## Why This Matters

### ‚úÖ Correct Approach
```
User fills business details
    ‚Üì
System generates risks based on industry/location
    ‚Üì
User reviews and adjusts risks
    ‚Üì
System recommends strategies
    ‚Üì
User selects strategies
    ‚Üì
System generates action plans
    ‚Üì
User reviews complete plan
```

### ‚ùå Wrong Approach
```
Pre-fill everything including risks and strategies
    ‚Üì
System has nothing to generate
    ‚Üì
Missing the smart admin functionality
    ‚Üì
Defeats the purpose of the intelligent system
```

## Sample Company Profile

The sample data represents **Caribbean Resort & Spa Ltd.**:

- **Type**: Luxury beachfront resort
- **Size**: 150 rooms
- **Services**: Accommodation, dining, spa, water sports, events
- **Location**: Christ Church, Barbados (coastal)
- **Staff**: 8 department heads with full contact details
- **Suppliers**: 5 critical vendors
- **Functions**: 10 prioritized business functions

This profile was chosen because it:
- Represents a complex hospitality operation
- Is located in a hurricane-prone coastal region
- Has multiple risk exposures (natural disasters, cyber, operational)
- Requires comprehensive continuity planning
- Demonstrates the system's full capabilities

## Using Sample Data in Development

### Via Dev Button (Recommended)
1. Run `npm run dev`
2. Open wizard in browser
3. Click purple "Fill with Sample Data" button (bottom-left)
4. Page refreshes with data loaded
5. System generates risks and strategies based on industry/location
6. Navigate through wizard to see complete flow

### Via Console Script
1. Open wizard in browser
2. Open console (F12)
3. Paste contents of `scripts/fill-wizard-with-sample-data.js`
4. Press Enter
5. Refresh page

### Viewing the Result
1. After loading sample data, navigate through the wizard
2. **Risk Assessment step**: See system-generated risks for Barbados coastal tourism
3. **Strategies step**: See recommended strategies based on risks
4. **Final step**: Click "Complete Plan" to see full review document

## Testing Different Scenarios

To test with different industries/locations, modify the `preFillData` object in `DevDataFiller.tsx`:

```javascript
const preFillData = {
  industry: { 
    id: 'agriculture',  // Change this
    name: 'Agriculture'
  },
  location: { 
    country: 'Barbados',
    countryCode: 'BB', 
    parish: 'St. James',  // Change this
    nearCoast: false,      // Change these
    urbanArea: true 
  },
  // ... rest of config
}
```

The system will then generate different risks and strategies appropriate for that scenario.

## Summary

**Remember**: The sample data is just the starting point. The real power is in the system's ability to intelligently generate risk assessments and recommendations based on industry and location data. Always let the system do its job rather than pre-filling everything manually!











